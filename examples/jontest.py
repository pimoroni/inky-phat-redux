#!/usr/bin/env python3

import sys
import time
import RPi.GPIO as GPIO
from PIL import Image, ImageFont


RESET_PIN = 27
BUSY_PIN = 17
DC_PIN = 22

MOSI_PIN = 10
SCLK_PIN = 11
CS0_PIN = 8

GPIO.setmode(GPIO.BCM)
GPIO.setwarnings(False)

_SPI_COMMAND = GPIO.LOW
_SPI_DATA = GPIO.HIGH

#_spi = spidev.SpiDev()        
#_spi.open(0, 0)

init_data = [0xA5, 0x89, 0x10, 0x00, 0x00, 0x00, 0x00, 0xA5, 0x19, 0x80, 0x00, 0x00, 0x00, 0x00, 0xA5, 0xA9,
0x9B, 0x00, 0x00, 0x00, 0x00, 0xA5, 0xA9, 0x9B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x0F, 0x0F, 0x0F, 0x0F, 0x02, 0x10, 0x10, 0x0A, 0x0A, 0x03, 0x08, 0x08, 0x09,
0x43, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00]

black_image_data = [0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,
  0X55,0X5F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XF0,0X00,0X00,0X7F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XEA,0XAA,0XAF,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XF5,0X55,0X5F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,
  0XAF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF5,0X55,0X5F,0XFF,0XFF,
  0XFF,0XFB,0X8B,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XAA,0XAF,0XFF,0XFF,0XFF,0XFA,0X99,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFD,0X9B,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X00,0X7E,0X27,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XF0,0X00,0X00,0X7F,0XB1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFB,0X17,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X00,0X78,
  0XB7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X00,0X7E,0XBD,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X00,0X00,0X7D,0X83,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFD,0XB7,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XF3,0XFF,0XF0,0X00,0X1F,0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X7F,0XCF,0XFF,
  0XE0,0X00,0X0F,0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X7F,0X3F,0XFF,0XC0,0X00,0X07,
  0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X7C,0XFF,0XFF,0X81,0XFF,0X03,0XFE,0X00,0X00,
  0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X87,0XFF,0XC3,0XFE,0X00,0X00,0X1F,0XFF,0XFF,
  0XFF,0XF8,0XDF,0XFF,0X87,0XFF,0XC3,0XFE,0X10,0X80,0X1F,0XF0,0X00,0X00,0X7B,0XDB,
  0XFF,0X87,0XFF,0XC3,0XFE,0X30,0XB9,0X1F,0XFF,0XFF,0XFF,0XFB,0XDB,0XFF,0X87,0XFF,
  0XC3,0XFE,0X10,0XA1,0X1F,0XFF,0XFF,0XFF,0XFC,0X1B,0XFF,0X81,0XFF,0X03,0XFE,0X09,
  0XA1,0X9F,0XFF,0XFF,0XFF,0XFF,0XDB,0XFF,0XC0,0X00,0X07,0XFE,0X0A,0X91,0X5F,0XF0,
  0X00,0X00,0X7F,0XDB,0XFF,0XE0,0X00,0X0F,0XFE,0X04,0X89,0X1F,0XF0,0X00,0X00,0X7E,
  0X1B,0XFF,0XF0,0X00,0X1F,0XFE,0X02,0X86,0X1F,0XF0,0X00,0X00,0X7D,0XDB,0XFF,0XFC,
  0X00,0XFF,0XFE,0X09,0XE3,0XDF,0XF0,0X00,0X00,0X7B,0XDF,0XFF,0XFF,0XFF,0XFF,0XFE,
  0X10,0X92,0X1F,0XF0,0X00,0X00,0X7B,0XDF,0XFF,0XFF,0XFF,0XFF,0XFE,0X20,0X82,0X1F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X3F,0X82,0X1F,0XF0,0X00,0X00,
  0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X02,0X80,0XDF,0XF0,0X00,0X00,0X7F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFE,0X04,0XBF,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFE,0X04,0X82,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X08,0X84,
  0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X03,0XFE,0X08,0X88,0X1F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X03,0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X7F,0XFF,
  0XFF,0X80,0X00,0X03,0XFE,0X18,0X10,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0X80,0X00,
  0X07,0XFE,0X24,0XF0,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0X0F,0XFE,0X25,
  0X10,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X1F,0XFE,0X25,0X10,0X1F,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X3F,0XFE,0X25,0X10,0X1F,0XF0,0X00,0X00,0X78,
  0X7F,0XFF,0XFF,0XFC,0X3F,0XFE,0X25,0X10,0X1F,0XFF,0XFF,0XFF,0XF8,0X7F,0XFF,0XFF,
  0XF8,0X7F,0XFE,0X2A,0XE0,0X1F,0XFF,0XFF,0XFF,0XF8,0X7F,0XFF,0XFF,0XFF,0XFF,0XFE,
  0X18,0X00,0X1F,0XF0,0X00,0X00,0X78,0X7F,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X00,0X1F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X00,0X1F,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X01,0XFC,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFE,0X06,0X03,0X1F,0XFF,0XFF,0XFF,0XFF,0XFC,0X03,0XFF,0XFF,0XFF,
  0XFE,0X08,0X00,0X9F,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X7F,0XFF,0XFF,0XFE,0X08,0X00,
  0X9F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X3F,0XFF,0XFF,0XFE,0X08,0X00,0X9F,0XF0,0X00,
  0X00,0X7F,0X00,0X00,0X0F,0XFF,0XFF,0XFE,0X08,0X00,0X9F,0XF0,0X00,0X00,0X7E,0X00,
  0X00,0X07,0XFF,0XFF,0XFE,0X06,0X03,0X1F,0XF0,0X00,0X00,0X7C,0X00,0X00,0X07,0XFF,
  0XFF,0XFE,0X01,0XFC,0X1F,0XFF,0XFF,0XFF,0XFC,0X00,0X00,0X03,0XFF,0XFF,0XFE,0X00,
  0X00,0X1F,0XFF,0XFF,0XFF,0XF8,0X03,0XF8,0X03,0XFF,0XFF,0XFE,0X00,0X00,0X1F,0XFF,
  0XFF,0XFF,0XF8,0X07,0XFC,0X01,0XFF,0XFF,0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X70,
  0X0F,0XFE,0X01,0XFF,0XFF,0XFE,0X0E,0X0F,0X1F,0XF0,0X00,0X00,0X70,0X1F,0XFF,0X01,
  0XFF,0XFF,0XFE,0X08,0X30,0X9F,0XFF,0XFF,0XFF,0XF0,0X1F,0XFF,0X01,0XFF,0XFF,0XFE,
  0X08,0X40,0X9F,0XF0,0X00,0X00,0X70,0X1F,0XFF,0X01,0XFF,0XFF,0XFE,0X08,0X80,0X9F,
  0XF0,0X00,0X00,0X70,0X1F,0XFF,0X01,0XFF,0XFF,0XFE,0X09,0X00,0X9F,0XF0,0X00,0X00,
  0X70,0X1F,0XFF,0X03,0XF7,0XFF,0XFE,0X0A,0X00,0X9F,0XF0,0X00,0X00,0X70,0X0F,0XFE,
  0X02,0X07,0XFF,0XFE,0X0C,0X07,0X1F,0XF0,0X00,0X00,0X78,0X07,0XFE,0X00,0X07,0XFF,
  0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X78,0X01,0XFC,0X00,0X07,0XFF,0XFE,0X00,0X00,
  0X1F,0XFF,0XFF,0XFF,0XF8,0X00,0X78,0X00,0X07,0XFF,0XFE,0X00,0X00,0X1F,0XFF,0XFF,
  0XFF,0XFC,0X00,0X78,0X00,0X07,0XFF,0XFE,0X00,0X00,0X1F,0XF0,0X00,0X00,0X7E,0X00,
  0X78,0X00,0X07,0XFF,0XFE,0X08,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0X00,0X7C,0X00,0X0F,
  0XFF,0XFE,0X08,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0X80,0XFC,0X01,0XFF,0XFF,0XFE,0X0F,
  0XFF,0X9F,0XF0,0X00,0X00,0X7F,0XE0,0XFC,0X7F,0XFF,0XFF,0XFE,0X08,0X01,0X1F,0XF0,
  0X00,0X00,0X7F,0XF8,0XFF,0XFF,0XFF,0XFF,0XFE,0X08,0X01,0X1F,0XF0,0X00,0X00,0X7F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X1F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X1F,0XF0,0X00,0X00,
  0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X3E,0X00,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0X20,0X00,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0X20,0XFF,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X21,0X01,
  0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X22,0X01,0X1F,0XF0,0X00,
  0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X21,0X01,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0X20,0XF9,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0X20,0X89,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X20,
  0X89,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X20,0X89,0X1F,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X20,0X89,0X1F,0XF0,0X00,0X00,0X7F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X20,0X89,0XDF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0X1F,0XFE,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0X00,0X08,0X1F,0XF0,0X00,0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X10,0X1F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X20,0X1F,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0X00,0X00,0X1F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X04,
  0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X3F,0XFE,0XDF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X10,0X04,0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0X10,0X04,0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0X10,0X04,0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X10,
  0X04,0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X1F,0XFC,0X9F,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X11,0X24,0X9F,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X11,0X25,0X9F,0XF2,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0X1F,0XFE,0X9F,0XED,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0X10,0X04,0X9F,0XED,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X10,0X04,0X9F,
  0XF2,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X10,0X04,0X9F,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X3F,0XFC,0X9F,0XF2,0X7F,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0X00,0X00,0X9F,0XED,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0X00,0X00,0X9F,0XED,0XBF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0X00,0X00,
  0X1F,0XF7,0X7F,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XF1,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF0,0X7F,0XFF,0XFF,0XF1,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEF,0XBF,0XFF,0XFF,0XEA,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XEF,0XBF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XF0,0X7F,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEF,0XFF,0XFF,0XFF,
  0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X3F,0XFF,0XFF,0XFB,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEF,0X7F,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF2,0X7F,0XFF,
  0XFF,0XFB,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XED,0XBF,0XFF,0XFF,0X05,0XFF,
  0XFF,0XFF,0XFC,0X1F,0XFF,0XFF,0XFF,0XED,0XBF,0XFF,0XFF,0XFE,0XFF,0XFF,0XFF,0XFB,
  0X6F,0XFF,0XFF,0XFF,0XF2,0X7F,0XFF,0XFF,0XFF,0X3F,0XFF,0XFF,0XFB,0X6F,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0X86,0XFF,0XFF,0XFF,0XFD,0X9F,0XFF,0XFF,0XFF,0XEF,0XFF,
  0XFF,0XFF,0X7D,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X3F,0XFF,0XFF,0XFB,
  0X3F,0XFF,0XFF,0XFC,0XDF,0XFF,0XFF,0XFF,0XEF,0X7F,0XFF,0XFF,0X00,0XFF,0XFF,0XFF,
  0XFB,0X6F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFD,0XFF,0XFF,0XFF,0XFB,0X6F,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X1F,0XFF,0XFF,0XFF,0XF3,
  0X7F,0XFF,0XFF,0XD5,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XED,0XBF,0XFF,0XFF,
  0X15,0X7F,0XFF,0XFF,0XFF,0XCF,0XFF,0XFF,0XFF,0XED,0XBF,0XFF,0XFF,0X55,0X7F,0XFF,
  0XFF,0XFF,0X2F,0XFF,0XFF,0XFF,0XF0,0X7F,0XFF,0XFF,0X40,0X3F,0XFF,0XFF,0XF8,0XEF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X55,0X7F,0XFF,0XFF,0XFF,0XEF,0XFF,0XFF,0XFF,
  0XEF,0XFF,0XFF,0XFF,0X55,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X3F,0XFF,
  0XFF,0X55,0X7F,0XFF,0XFF,0XFC,0X9F,0XFF,0XFF,0XFF,0XEF,0X7F,0XFF,0XFF,0X00,0X3F,
  0XFF,0XFF,0XFB,0X6F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0XFF,0XFF,0XFF,0XFB,
  0X6F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0XFF,0XFF,0XFF,0XFD,0XDF,0XFF,0XFF,
  0XFF,0XEE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XED,0XBF,
  0XFF,0XFF,0XEC,0XFF,0XFF,0XFF,0XFC,0X9F,0XFF,0XFF,0XFF,0XEB,0XBF,0XFF,0XFF,0XEA,
  0XBF,0XFF,0XFF,0XFB,0X6F,0XFF,0XFF,0XFF,0XE7,0X7F,0XFF,0XFF,0X6A,0XBF,0XFF,0XFF,
  0XFB,0X6F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X56,0XBF,0XFF,0XFF,0XFD,0XDF,0XFF,
  0XFF,0XFF,0XFF,0X9F,0XFF,0XFF,0X16,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,
  0X7F,0XFF,0XFF,0X48,0X3F,0XFF,0XFF,0XFC,0X1F,0XFF,0XFF,0XFF,0XF9,0XFF,0XFF,0XFF,
  0X56,0XBF,0XFF,0XFF,0XFB,0XEF,0XFF,0XFF,0XFF,0XE7,0XFF,0XFF,0XFF,0XEA,0XBF,0XFF,
  0XFF,0XFB,0XEF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XEA,0XBF,0XFF,0XFF,0XFC,0X1F,
  0XFF,0XFF,0XFF,0XF2,0X7F,0XFF,0XFF,0XEC,0XFF,0XFF,0XFF,0XFF,0XFF,0XCF,0XFF,0X7F,
  0XED,0XBF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XCF,0XEC,0X03,0X3F,0XED,0XBF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X2F,0XF7,0XFB,0X7F,0XF7,0X7F,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XF8,0XEF,0XFB,0XFB,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XEF,0XFC,0X0A,0X7F,0XEF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0XF9,
  0X7F,0XE0,0X3F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0X9F,0XF7,0XFB,0X7F,0XEF,0X7F,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0X6F,0XEC,0X03,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFA,0XEF,0XDF,0XFD,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XF9,0XDF,0XDB,0X05,0XFF,0XFF,0X9F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XF7,
  0X7D,0XFF,0XFE,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0X9F,0XEF,0X7D,0XFF,0XF9,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFB,0X6F,0XE0,0X00,0X3F,0XE7,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFA,0XEF,0XFF,0X7D,0XFF,0XFF,0XF8,0X0D,0XFF,0X7F,0X9C,0XBF,
  0XFF,0XF9,0XDF,0XFF,0X7D,0XFF,0XF3,0XBB,0XED,0XE1,0X4F,0XAE,0XBF,0XFF,0XFF,0XFF,
  0XFF,0X05,0XFF,0XED,0XBB,0XED,0XF5,0XAF,0XAA,0X1E,0X07,0XFB,0X9F,0XFF,0XFF,0XFF,
  0XED,0XB8,0X0D,0XF5,0XAF,0XCA,0XBD,0X77,0XFB,0X6F,0XFF,0XFF,0XFF,0XEC,0X3A,0XA9,
  0XE1,0X47,0XEA,0X3D,0X77,0XFA,0XEF,0XFF,0XFF,0XFF,0XFF,0XF8,0X05,0XFF,0X5F,0XCA,
  0XBF,0X8F,0XF9,0XDF,0XFF,0X7F,0XFF,0XF0,0X7B,0XED,0XFE,0XDF,0XAA,0X1F,0XFF,0XFF,
  0XFF,0XFF,0X7F,0X7F,0XEF,0XBB,0XED,0XE0,0X07,0XAE,0XBF,0X83,0XFC,0X1F,0XC1,0X7D,
  0X7F,0XEF,0XB8,0X0D,0XFE,0X5F,0XAC,0XBF,0X7D,0XFB,0XEF,0XED,0X45,0X7F,0XF0,0X7F,
  0XFF,0XFD,0XDF,0XFF,0XBF,0X7D,0XFB,0XEF,0XED,0X55,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0X83,0XFC,0X1F,0XED,0X15,0X7F,0XFF,0XFF,0X57,0XFF,0X7F,0XDF,0X7F,0XFF,
  0XFF,0XFF,0XC1,0X55,0X7F,0XFF,0XFF,0X57,0XE1,0XBF,0XEB,0X7F,0X73,0XFC,0X1F,0XFF,
  0X54,0X3F,0XFF,0XF8,0X01,0XF5,0X5F,0XF3,0X7F,0X6D,0XFB,0X6F,0XE1,0X55,0X7F,0XFF,
  0XFF,0XFF,0XF5,0X6F,0XFB,0X7F,0X5D,0XFB,0X6F,0XDD,0X15,0X7F,0XFF,0XF8,0X01,0XF5,
  0X77,0XC0,0X7F,0X3B,0XFD,0X9F,0XDD,0X55,0X7F,0XFF,0XFF,0X57,0XF5,0X6F,0XBB,0X7F,
  0XFF,0XFF,0XFF,0XF8,0X55,0X7F,0XFF,0XFF,0X57,0XF5,0X5F,0XBB,0X1F,0X7F,0XFC,0XDF,
  0XF5,0X45,0X7F,0XFF,0XFC,0X01,0XE1,0XBF,0XF2,0X7F,0X01,0XFB,0X6F,0XED,0X7D,0X7F,
  0XFF,0XFB,0XB7,0XFF,0X7F,0XE9,0X7F,0X7B,0XFB,0X6F,0XDD,0X7F,0X7F,0XFF,0XFB,0X77,
  0XFF,0X7F,0XDB,0X7F,0XFF,0XFC,0X1F,0XDF,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  0XFF,0XFF,0XFF,0XFF]

red_image_data = [0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X2A,0XAA,
  0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,
  0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X2A,0XAA,0XA8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X55,0X55,0X54,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X10,0X80,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X30,0XB9,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X10,0XA1,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X09,
  0XA1,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0A,0X91,0X40,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X04,0X89,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X02,0X86,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X09,0XE3,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X10,0X92,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X20,0X82,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0X82,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X02,0X80,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X04,0XBF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X04,0X82,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X08,0X84,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X08,0X88,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X18,0X10,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X24,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X25,
  0X10,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X25,0X10,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X25,0X10,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X25,0X10,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X2A,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X06,0X03,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X08,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X08,0X00,
  0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X08,0X00,0X80,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X08,0X00,0X80,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X07,0XF8,0X00,0X06,0X03,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,
  0XF8,0X00,0X01,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X07,0XF8,0X00,0X0E,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X07,0XF8,0X00,0X08,0X30,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,
  0X08,0X40,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X08,0X80,0X80,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X09,0X00,0X80,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X0A,0X00,0X80,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X07,0XF8,0X00,0X0C,0X07,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X07,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X07,0XC0,0X00,0X08,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X08,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0F,
  0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X08,0X01,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X08,0X01,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,
  0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X3F,0XF1,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XF1,
  0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XEA,0XFC,0X3F,0XFF,
  0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X00,
  0X1C,0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X3F,0XD0,0X80,0X00,
  0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X12,0X50,0X80,0X00,0X00,0X00,0X3F,
  0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X12,0X51,0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,
  0XFF,0XE0,0X00,0X12,0X51,0X00,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,
  0X12,0X52,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,0X00,0X12,0X52,0X00,
  0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X3F,0XCF,0XC0,0X00,0X00,0X00,
  0X3F,0XFB,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0X05,0XFC,
  0X3F,0XFF,0XE0,0X00,0X00,0X02,0X00,0X00,0X00,0X00,0X3F,0XFE,0XFC,0X3F,0XC3,0XE0,
  0X00,0X00,0X12,0X00,0X00,0X00,0X00,0X3F,0XFF,0X3C,0X3F,0X3C,0XE0,0X00,0X00,0X22,
  0X00,0X00,0X00,0X00,0X3F,0X86,0XFC,0X3E,0XFF,0X60,0X00,0X1F,0XFF,0XC0,0X00,0X00,
  0X00,0X3F,0X7D,0XFC,0X3F,0XFF,0XE0,0X00,0X20,0X42,0X00,0X00,0X00,0X00,0X3F,0XFB,
  0X3C,0X3F,0XFF,0XE0,0X00,0X10,0X82,0X00,0X00,0X00,0X00,0X3F,0X00,0XFC,0X3F,0XFF,
  0XE0,0X00,0X00,0X82,0X00,0X00,0X00,0X00,0X3F,0XFD,0XFC,0X3F,0XFF,0XE0,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0X9D,0XE0,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X3F,0XD5,0X7C,0X3F,0X6D,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,
  0X15,0X7C,0X3F,0X6D,0XE0,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X3F,0X55,0X7C,0X3F,
  0X73,0XE0,0X00,0X00,0XC0,0X00,0X00,0X00,0X00,0X3F,0X40,0X3C,0X3F,0XFF,0XE0,0X00,
  0X00,0X88,0X80,0X00,0X00,0X00,0X3F,0X55,0X7C,0X3F,0XFF,0XE0,0X00,0X00,0X8C,0XC0,
  0X00,0X00,0X00,0X3F,0X55,0X7C,0X3F,0XFF,0XE0,0X00,0X00,0X88,0X80,0X00,0X00,0X00,
  0X3F,0X55,0X7C,0X3F,0XFF,0XE0,0X00,0X00,0X88,0X80,0X00,0X00,0X00,0X3F,0X00,0X3C,
  0X3F,0XFF,0XE0,0X00,0X00,0X88,0X80,0X00,0X00,0X00,0X3F,0XFC,0XFC,0X3E,0XFF,0X60,
  0X00,0X00,0X88,0X80,0X00,0X00,0X00,0X3F,0XFB,0XFC,0X3F,0X3C,0XE0,0X00,0X1F,0XFF,
  0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0XC3,0XE0,0X00,0X20,0X89,0X00,0X00,0X00,
  0X00,0X3F,0XEC,0XFC,0X3F,0XFF,0XE0,0X00,0X10,0X89,0X00,0X00,0X00,0X00,0X3F,0XEA,
  0XBC,0X3F,0XFF,0XE0,0X00,0X00,0X89,0X00,0X00,0X00,0X00,0X3F,0X6A,0XBC,0X3F,0XFF,
  0XE0,0X00,0X00,0X89,0X00,0X00,0X00,0X00,0X3F,0X56,0XBC,0X3F,0XFF,0XE0,0X00,0X00,
  0X89,0X00,0X00,0X00,0X00,0X3F,0X16,0XBC,0X3F,0X3F,0XE0,0X00,0X00,0X89,0X00,0X00,
  0X00,0X00,0X3F,0X48,0X3C,0X3F,0XC7,0XE0,0X00,0X00,0X80,0X00,0X00,0X00,0X00,0X3F,
  0X56,0XBC,0X3F,0XD9,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XEA,0XBC,0X3F,
  0XC7,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XEA,0XBC,0X3F,0X3F,0XE0,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XEC,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,
  0X3F,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFF,0XFC,0X3F,0XFF,0XE0,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  0X00,0X00,0X00,0X00]

black_image_data = [1] * (22048 // 8)
red_image_data = [0] * (22048 // 8)

def set_image(image):
  global black_image_data
  global red_image_data

  image = Image.open(image)
  w, h = image.size
  for x in range(w):
    for y in range(h):
      p = image.getpixel((w - x - 1, y))

      # 212 x 104
      offset = (y + (x * 104)) // 8
      bit_offset = y % 8

      if p == 1:
        # clear in both buffers
        black_image_data[offset] &= ~(1 << (7 - bit_offset))
        red_image_data[offset] &= ~(1 << (7 - bit_offset))

      if p == 0:
        # black buffer
        black_image_data[offset] |= (1 << (7 - bit_offset))

      if p == 2:
        # red buffer
        red_image_data[offset] |= (1 << (7 - bit_offset))

def _spi_write(dc, values):
  GPIO.output(DC_PIN, dc)

  GPIO.setup(MOSI_PIN, GPIO.OUT, initial=GPIO.LOW)
  GPIO.setup(SCLK_PIN, GPIO.OUT, initial=GPIO.LOW)
  GPIO.setup(CS0_PIN, GPIO.OUT, initial=GPIO.LOW)

  for v in values:
    for x in range(8):
      GPIO.output(MOSI_PIN, v & 0b10000000)
      GPIO.output(SCLK_PIN, GPIO.HIGH)
      v <<= 1
      GPIO.output(SCLK_PIN, GPIO.LOW)

  GPIO.setup(MOSI_PIN, GPIO.IN, pull_up_down=GPIO.PUD_OFF)
  GPIO.setup(SCLK_PIN, GPIO.IN, pull_up_down=GPIO.PUD_OFF)
  GPIO.setup(CS0_PIN, GPIO.IN, pull_up_down=GPIO.PUD_OFF)


o = ""

def _send_command(command, data = []):
  global o
  if o:
    print("Data:{}".format(o))
    o = ""
  print("Command {0:02x}".format(command))
  _spi_write(_SPI_COMMAND, [command])
  #if len(data) > 0:
  #  _spi_write(_SPI_DATA, data)

def _send_data(data = []):
  #if len(data) > 0:
  global o
  o += " {0:02x}".format(data)
  _spi_write(_SPI_DATA, [data])

def _busy_wait():
  print("busy wait")
  while(GPIO.input(BUSY_PIN) == GPIO.HIGH):
    pass

def reset():
  print("reset")
  GPIO.output(RESET_PIN, GPIO.LOW)
  time.sleep(0.1)
  GPIO.output(RESET_PIN, GPIO.HIGH)
  time.sleep(0.1)

  _send_command(0x12)
  _busy_wait()


def _init_ssd1675():
  # # set analog control block
  _send_command(0x74)
  _send_data(0x54)
  _send_command(0x75)
  _send_data(0x3b)

  # # driver output control
  _send_command(0x01)
  _send_data(0xD3)
  _send_data(0x00)
  _send_data(0x00)

  # # dummy line period
  _send_command(0x3A)
  _send_data(0x18)

  # # gate line width
  _send_command(0x3B)
  _send_data(0x05)

  # # data entry mode setting
  _send_command(0x11)
  _send_data(0x03)

  # # select internal temperature sensor
  # _send_command(0x18)
  # _send_data(0x80)

  # # set ram x start / end
  # _send_command(0x44)
  # _send_data(0x00)
  # _send_data(0x0c)

  # # set ram y start / end
  # _send_command(0x45)
  # _send_data(0x00)
  # _send_data(0x00)
  # _send_data(0xD3)
  # _send_data(0x00)
  # _send_data(0x00)

  # # source driving voltage
  # _send_command(0x04)
  # _send_data(0x2D)
  # _send_data(0xb2)
  # _send_data(0x22)

  # # vcom register
  # _send_command(0x2C)
  # _send_data(0x3C)

  # # border control
  # _send_command(0x3C)
  # _send_data(0x33)

  # # LUT
  # _send_command(0x32)
  # for i in range(0, 70):
  #   _send_data(init_data[i])

def set_origin():
  pass
  # _send_command(0x4E)
  # _send_data(0x00)
  # _send_command(0x4F)
  # _send_data(0x00)
  # _send_data(0x00)

def set_window(xs, xe, ys, ye):
  pass
  # _send_command(0x44)
  # _send_data(xs)
  # _send_data(xe)
  # _send_command(0x45)
  # _send_data(ys)
  # _send_data(ys>>8)
  # _send_data(ye)
  # _send_data(ye>>8)


GPIO.setup(BUSY_PIN, GPIO.IN)
GPIO.setup(RESET_PIN, GPIO.OUT, initial=GPIO.LOW)
GPIO.setup(DC_PIN, GPIO.OUT, initial=GPIO.LOW)

GPIO.setup(MOSI_PIN, GPIO.IN)
GPIO.setup(SCLK_PIN, GPIO.IN)
GPIO.setup(CS0_PIN, GPIO.IN)

set_image("resources/backdrop.png")

# hard reset?
# sw reset?
  
  # RESET();                      
  #     SPI4W_WRITECOM(0x12);     //SWRESET
  # READBUSY();
reset()

_init_ssd1675()


while True:
  print("update")
  
  _send_command(0x44)
  _send_data(0x00)
  _send_data(0x0c)

  _send_command(0x45)
  _send_data(0x00)
  _send_data(0x00)
  _send_data(0xd3)
  _send_data(0x00)
  _send_data(0x00)

  _send_command(0x04)
  _send_data(0x2D)
  _send_data(0xb2)
  _send_data(0x22)

  # vcom register
  _send_command(0x2C)
  _send_data(0x3C)

  # border control
  _send_command(0x3C)
  _send_data(0x33)

  # LUT
  _send_command(0x32)
  for i in range(0, 70):
    _send_data(init_data[i])
    
  _send_command(0x2c)
  _send_data(0x3c)
  _send_data(0xb2)
  _send_data(0x22)

  _send_command(0x4e)
  _send_data(0x00)

  _send_command(0x4f)
  _send_data(0x00)
  _send_data(0x00)

  # dis_img
  #set_window(0, 12, 0, 211)
  #set_origin()

  _send_command(0x24)   
  for i in range(0, len(black_image_data)):
    _send_data(black_image_data[i])

  #set_window(0, 12, 0, 211)
  #set_origin()

  _send_command(0x44)
  _send_data(0x00)
  _send_data(0x0c)

  _send_command(0x45)
  _send_data(0x00)
  _send_data(0x00)
  _send_data(0xd3)
  _send_data(0x00)

  _send_command(0x4e)
  _send_data(0x00)

  _send_command(0x4f)
  _send_data(0x00)
  _send_data(0x00)  

  _send_command(0x26);
  for i in range(0, len(red_image_data)):
    _send_data(red_image_data[i])
  
  # display update
  _send_command(0x22)
  _send_data(0xC7)
  _send_command(0x20)
  time.sleep(0.1)
  _busy_wait()

  print("updated")

  time.sleep(3)
  
